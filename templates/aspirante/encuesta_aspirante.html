{% extends 'aspirante/dashboard_aspirante.html' %}
{% block title %}Encuesta | Responder{% endblock %}
{% block header_page %}
<h1 class="page-header">
    <div class="row">
        <div class="col-md-4">Encuesta
            <small>Responder</small>
        </div>
        <div class="col-md-8">
            {% raw %}
            <form v-show="!encuesta">
                <div class="form-inline" style="text-align: center">
                    <div class="form-group">
                        <small>Selecciona la carrera:</small>
                    </div>
                    <div class="form-group ">
                        <select class="form-control" v-model="id_encuesta">
                            <option disabled value="" class="form-control">Escoge un perfil</option>
                            <option v-for="(perfil, index) in encuestas" class="form-control" v-bind:value="index">
                                {{perfil.perfil}}
                            </option>
                        </select>
                    </div>
                    <div class="form-group">
                        <a @click="mostrar_encuesta" class="btn text-white" style="background: rgb(19,61,57)">Responder
                            encuesta</a>
                    </div>
                </div>
            </form>
            {% endraw %}
        </div>
    </div>
</h1>
{% endblock %}
{% block content_page %}
{% raw %}
<div class="row" v-if="encuesta">
    <div class="panel panel-inverse">
        <div class="panel-heading">
            Encuesta para {{encuesta.perfil}}
        </div>
        <div class="panel-body">
            <div>
                <div class="jumbotron" style="background: rgb(19,61,57)">
                    <h2 class="text-center text-white">{{encuesta.preguntas[id_pregunta].pregunta}}</h2>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-1"></div>
                            <div class="col-md-10" v-for="(respuesta, key) in encuesta.preguntas[id_pregunta].respuestas">
                                <div class="radio">
                                    <label class="text-white">
                                        <input type="radio" name="respuestas" :value="key" v-model="respuesta_pregunta.respuesta">
                                        {{respuesta}}
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="panel-footer">
            <div class="text-center">
                <div class="btn-group">
                    <button class="btn text-white" style="background: rgb(19,61,57)" @click="prev" v-if="id_pregunta>0">Anterior pregunta</button>
                    <button class="btn text-white" style="background: rgb(19,61,57)" @click="next" v-if="id_pregunta<encuesta.preguntas.length - 1">Siguiente pregunta</button>
                    <button class="btn btn-warning"  @click="finalizar_encuesta" v-if="id_pregunta==encuesta.preguntas.length - 1">Finalizar</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endraw %}
{% endblock %}

